<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Generador de URL de Registres de Marques</title>
</head>
<body>
  <h1>Generador de URL de Registres de Marques</h1>
  
  <label for="officeSelect">Selecciona una oficina:</label>
  <select id="officeSelect">
    <option value="OEPM">Oficina Espanyola de Patents i Marques (OEPM)</option>
    <option value="EUIPO">Oficina de Propietat Intel·lectual de la Unió Europea (EUIPO)</option>
    <option value="OMPI">Organització Mundial de la Propietat Intel·lectual (OMPI)</option>
  </select>
  <br><br>

  <label for="codeInput">Codi d'identificació registre:</label>
  <input type="text" id="codeInput">
  <br><br>

  <button id="generateButton">Generar URL</button>
  <br><br>
  <div id="resultContainer"></div>

  <script>
    // Funció per crear i copiar la URL al porta-retalls
    function copyToClipboard(text) {
      const textArea = document.createElement('textarea');
      textArea.value = text;
      document.body.appendChild(textArea);
      textArea.select();
      document.execCommand('copy');
      document.body.removeChild(textArea);
    }

    // Funció per construir la URL
    function buildURL() {
      const officeSelect = document.getElementById('officeSelect');
      const codeInput = document.getElementById('codeInput');
      const resultContainer = document.getElementById('resultContainer');

      const office = officeSelect.value;
      let code = codeInput.value;

      // Elimina els caràcters no numèrics del codi
      code = code.replace(/\D/g, '');

      // Defineix les URLs base per a cada oficina
      const officeURLs = {
        'OEPM': 'https://consultas2.oepm.es/ceo/jsp/busqueda/consultaExterna.xhtml?numExp=M',
        'EUIPO': 'https://euipo.europa.eu/eSearch/#basic/1+1+1+1/100+100+100+100/',
        'OMPI': 'https://branddb.wipo.int/en/quicksearch/brand/WO50000000'
      };

      if (officeURLs[office]) {
        const url = officeURLs[office] + code;
        resultContainer.innerHTML = `<a href="${url}" target="_blank">${url}</a>`;
        copyToClipboard(url);
      } else {
        resultContainer.textContent = 'Oficina no vàlida';
      }
    }

    // Escolta l'esdeveniment de clic en el botó
    document.getElementById('generateButton').addEventListener('click', buildURL);
  </script>
</body>
</html>
